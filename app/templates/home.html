{% extends 'layout.html' %}
{% block content %}
    <div class="search">
        <form action="/search" method="POST">
            <select name="cat" id="searchselect">
                <option value="0" selected>Category</option>
                <option value="0">NEVEIKIA!!!</option>
                <option value="0">NEVEIKIA!!!</option>
                <option value="0">NEVEIKIA!!!</option>
                <option value="0">NEVEIKIA!!!</option>
                {% for cat in categories %}
                    <option value={{cat.id}}>{{cat.cat_name}}</option>
                {% endfor %}
            </select>
            {% if form.search.errors %}
                {{form.search(id="searchbar", class="is-invalid w-75", placeholder="Search..")}}
                <div class="invalid-feedback">
                    {% for error in form.search.errors %}
                    <span>{{error}}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{form.search(id="searchbar", class="w-75", placeholder="Search..", list="name")}}
            {% endif %} 
            <datalist id="name" class="datalist w-100">
                {% for item in datalist %}
                    <option value={{item.name}}>{{item.name}}</option>
                {% endfor %}
            </datalist>
            <button type="submit" id="searchbtn"><i class="fas fa-search"></i></button>
        </form>
    </div>
    <hr>
    <h2>New</h2>
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <div class="row items">
                    {% for item in items %}
                        <a href={{url_for('item', item_id=item.id)}} style="background-image: url({{url_for('static', filename='images/'+item.auction_image)}}); background-size: cover;" class="item col-md-3">
                                <p class="price">Minimum Price: <span class="font-weight-bold">{{item.min_price}}€</span></p>
                            <div class="overlay">
                                <h3 class="text-white">{{item.name.capitalize()}}</h3>
                            </div>    
                        </a>
                        
                    {% endfor %}
                </div>
              </div>
              <div class="carousel-item">
                <div class="row items">
                    {% for item in items2 %}
                        <a href={{url_for('item', item_id=item.id)}} style="background-image: url({{url_for('static', filename='images/'+item.auction_image)}}); background-size: cover;" class="item col-md-3">
                                <p class="price">Minimum Price: <span class="font-weight-bold">{{item.min_price}}€</span></p>
                            <div class="overlay">
                                <h3 class="text-white">{{item.name.capitalize()}}</h3>
                            </div>    
                        </a>
                        
                    {% endfor %}
                </div>
              </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
    </div>
    </div>
    <hr>

    <div class="banner">
        <h2 class="text-white">Find what you’re looking for, for even less.</h2>
        <a class="btn btn-outline-light text-white" href={{url_for('all')}}>Check all auctions</a>
    </div>

    <hr>
    <h2>Trending</h2>
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="row items">
                    {% for item in trending %}
                        <a href={{url_for('item', item_id=item.id)}} style="background-image: url({{url_for('static', filename='images/'+item.auction_image)}}); background-size: cover;" class="item col-md-3">
                                <p class="price">Minimum Price: <span class="font-weight-bold">{{item.min_price}}€</span></p>
                            <div class="overlay">
                                <h3 class="text-white">{{item.name.capitalize()}}</h3>
                            </div>    
                        </a>
                        
                    {% endfor %}
                </div>
              </div>
              <div class="carousel-item">
                <div class="row items">
                    {% for item in trending2 %}
                        <a href={{url_for('item', item_id=item.id)}} style="background-image: url({{url_for('static', filename='images/'+item.auction_image)}}); background-size: cover;" class="item col-md-3">
                                <p class="price">Minimum Price: <span class="font-weight-bold">{{item.min_price}}€</span></p>
                            <div class="overlay">
                                <h3 class="text-white">{{item.name.capitalize()}}</h3>
                            </div>    
                        </a>
                    {% endfor %}
                </div>
              </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    
{% endblock content%}